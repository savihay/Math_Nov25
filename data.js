// --- נתונים עבור האפליקציה ---
// מוגדר כמשתנה גלובלי כדי שיהיה נגיש מ-index.html
window.rawTopics = [
  {
    id: 'functions',
    title: 'פונקציה קווית',
    icon: 'PieChart', // We'll handle icons in the main app
    color: 'bg-blue-500',
    lightColor: 'bg-blue-50',
    borderColor: 'border-blue-200',
    textColor: 'text-blue-700',
    studyMaterial: {
      title: 'הנוסחה:',
      points: [
        { title: 'הנוסחה הכללית', text: 'y = mx + b' },
        { title: 'm (שיפוע)', text: 'המספר שצמוד ל-x.\nחיובי (+) = עולה ↗️\nשלילי (-) = יורדת ↘️\nאפס = קבועה (קו ישר מאוזן).' },
        { title: 'b (חיתוך y)', text: 'המספר החופשי (בלי איקס). קובע באיזה גובה הפונקציה חותכת את ציר ה-y.' },
        { title: 'נקודות חיתוך', text: 'עם ציר y: מציבים x=0.\nעם ציר x: מציבים y=0 ופותרים משוואה.' },
        { title: '💡 דוגמה', text: 'נתונה הפונקציה:\ny = -2x + 6\nשיפוע: -2 (שלילי → יורדת)\nחיתוך y הוא בנקודה:\n(0, 6)\nחיתוך x (נציב y=0):\n0 = -2x + 6\n2x = 6\nx = 3' }
      ]
    },
    questions: [
      {
        type: 'multiple',
        q: 'בפונקציה:\ny = -3x + 5\nמהו השיפוע (m)?',
        options: ['5', '-3', '3', '-5'],
        correct: '-3',
        explanation: 'השיפוע (m) הוא תמיד המספר שצמוד ל-x, כולל הסימן שלו.'
      },
      {
        type: 'multiple',
        q: 'האם הפונקציה:\ny = 4x - 2\nעולה או יורדת?',
        options: ['עולה', 'יורדת', 'קבועה', 'לא ניתן לדעת'],
        correct: 'עולה',
        explanation: 'השיפוע (4) הוא חיובי, ולכן הפונקציה עולה.'
      },
      {
        type: 'multiple',
        q: 'מהי נקודת החיתוך של הפונקציה:\ny = 2x - 6\nעם ציר ה-y?',
        options: ['(0, -6)', '(0, 6)', '(-6, 0)', '(0, 2)'],
        correct: '(0, -6)',
        explanation: 'בחיתוך עם ציר y ה-x שווה 0, וה-y שווה ל-b (המספר החופשי).'
      },
      {
        type: 'multiple',
        q: 'איזו נקודה נמצאת על הישר:\ny = x + 2',
        options: ['(2, 4)', '(1, 4)', '(3, 4)', '(0, 0)'],
        correct: '(2, 4)',
        explanation: 'נציב x=2 במשוואה:\ny = 2 + 2\ny = 4\nהנקודה (2,4) מתאימה.'
      },
      {
        type: 'multiple',
        q: 'נתונה הפונקציה:\ny = -5\nאיזה סוג פונקציה זו?',
        options: ['קבועה', 'עולה', 'יורדת', 'לא פונקציה'],
        correct: 'קבועה',
        explanation: 'אין x במשוואה (השיפוע הוא 0), ולכן הפונקציה קבועה ותמיד שווה ל-5-.'
      },
      {
        type: 'multiple',
        q: 'מה השיפוע של הפונקציה:\ny = 8 - 2x',
        options: ['-2', '8', '2', '-8'],
        correct: '-2',
        explanation: 'שימו לב לסדר! השיפוע הוא תמיד המספר שצמוד ל-x. כאן הוא 2-.'
      },
      {
        type: 'multiple',
        q: 'דרך איזו נקודה עובר הישר:\ny = 3x',
        options: ['(0, 0)', '(0, 3)', '(3, 0)', '(1, 1)'],
        correct: '(0, 0)',
        explanation: 'פונקציה מהצורה y=mx (בלי b) תמיד עוברת בראשית הצירים (0,0).'
      },
      {
        type: 'multiple',
        q: 'נתונה הפונקציה:\ny = -2x + 6\nמהו השיפוע?',
        options: ['-2', '6', '2', '-6'],
        correct: '-2',
        explanation: 'השיפוע הוא המספר שצמוד ל-x, כולל הסימן. כאן השיפוע הוא -2.'
      },
      {
        type: 'multiple',
        q: 'נתונה הפונקציה:\ny = -2x + 6\nהאם היא עולה או יורדת?',
        options: ['יורדת', 'עולה', 'קבועה', 'לא ניתן לדעת'],
        correct: 'יורדת',
        explanation: 'השיפוע הוא -2 (שלילי), ולכן הפונקציה יורדת.'
      },
      {
        type: 'input',
        q: 'מהי נקודת החיתוך של:\ny = -2x + 6\nעם ציר ה-x? (כתוב רק את המספר)',
        correct: '3',
        explanation: 'מציבים y=0:\n0 = -2x + 6\n2x = 6\nx = 3'
      },
      {
        type: 'multiple',
        q: 'מהי נקודת החיתוך של:\ny = -2x + 6\nעם ציר ה-y?',
        options: ['(0, 6)', '(6, 0)', '(0, -2)', '(-2, 0)'],
        correct: '(0, 6)',
        explanation: 'מציבים x=0:\ny = -2(0) + 6 = 6\nנקודת החיתוך היא (0, 6).'
      },
      {
        type: 'multiple',
        q: 'האם הנקודה (4, -2) נמצאת על הישר:\ny = -2x + 6',
        options: ['כן', 'לא', 'לא ניתן לדעת', 'רק אם x=4'],
        correct: 'כן',
        explanation: 'נציב x=4:\ny = -2(4) + 6 = -8 + 6 = -2\nיצא בדיוק ה-y של הנקודה, לכן היא על הישר.'
      },
      {
        type: 'multiple',
        q: 'מה השיפוע של הפונקציה:\ny = 5x',
        options: ['5', '0', '1', 'לא ניתן לדעת'],
        correct: '5',
        explanation: 'כשאין b במשוואה, השיפוע הוא המספר שצמוד ל-x. כאן השיפוע הוא 5.'
      },
      {
        type: 'multiple',
        q: 'מהי נקודת החיתוך של:\ny = 3x - 9\nעם ציר ה-x?',
        options: ['(3, 0)', '(0, 3)', '(0, -9)', '(-9, 0)'],
        correct: '(3, 0)',
        explanation: 'מציבים y=0:\n0 = 3x - 9\n3x = 9\nx = 3'
      }
    ]
  },
  {
    id: 'equations',
    title: 'משוואות',
    icon: 'Calculator',
    color: 'bg-green-500',
    lightColor: 'bg-green-50',
    borderColor: 'border-green-200',
    textColor: 'text-green-700',
    studyMaterial: {
      title: 'חוקים לפתרון נכון',
      points: [
        { title: 'סדר פעולות', text: '1. פתיחת סוגריים\n2. העברת אגפים (מספרים לצד אחד, איקסים לשני)\n3. כינוס איברים\n4. חילוק במקדם של x.' },
        { title: 'זהירות - מינוס!', text: 'מינוס לפני סוגריים הופך את כל הסימנים בפנים. דוגמה:\n-(x+2)\nהופך ל:\n-x - 2' },
        { title: 'העברת אגפים', text: 'כשמעבירים איבר מצד לצד של ה"שווה", הסימן שלו משתנה (פלוס הופך למינוס ולהפך).' },
        { title: '💡 דוגמה לפתרון', text: 'המשוואה:\n4(x - 2) - 3(x + 1) = 5\nשלב 1 - פתיחת סוגריים:\n4x - 8 - 3x - 3 = 5\nשלב 2 - כינוס איברים:\nx - 11 = 5\nשלב 3 - העברת אגפים:\nx = 5 + 11\nx = 16' }
      ]
    },
    questions: [
      {
        type: 'input',
        q: 'פתור את המשוואה:\n2x - 4 = 10\n(כתוב רק את המספר)',
        correct: '7',
        explanation: 'נעביר את ה-4 אגף:\n2x = 14\nנחלק ב-2 ונקבל x=7.'
      },
      {
        type: 'multiple',
        q: 'מה השלב הראשון בפתרון המשוואה?\n3(x - 2) = 9',
        options: ['לפתוח סוגריים', 'להעביר את 9 אגף', 'לחלק ב-3', 'לחסר 3'],
        correct: 'לחלק ב-3',
        explanation: 'ניתן לחלק את שני האגפים ב-3:\n(x - 2) = 3\nואז להעביר אגפים: x = 5'
      },
      {
        type: 'multiple',
        q: 'פתור:\n5x = 2x + 15',
        options: ['5', '3', '15', '-5'],
        correct: '5',
        explanation: 'נעביר את 2x אגף בחיסור:\n3x = 15\nנחלק ב-3 ונקבל x=5.'
      },
      {
        type: 'multiple',
        q: 'מה התוצאה של פתיחת הסוגריים?\n-2(x - 4)',
        options: ['-2x + 8', '-2x - 8', '-2x - 4', '2x + 8'],
        correct: '-2x + 8',
        explanation: 'מינוס כפול מינוס נותן פלוס!\n-2 × (-4) = +8'
      },
      {
        type: 'input',
        q: 'פתור:\nx + 5 = -2',
        correct: '-7',
        explanation: 'נעביר את ה-5 אגף (יהפוך למינוס):\nx = -2 - 5\nלכן:\nx = -7'
      },
      {
        type: 'multiple',
        q: 'איזו משוואה מתאימה למשפט: "מספר כפול 3 ועוד 2 שווה ל-17"?',
        options: ['3x + 2 = 17', '3(x + 2) = 17', 'x + 3 + 2 = 17', '2x + 3 = 17'],
        correct: '3x + 2 = 17',
        explanation: 'מספר (x) כפול 3 (3x) ועוד 2 (+2) שווה ל-17.'
      },
      {
        type: 'input',
        q: 'פתור:\n4(x - 2) - 3(x + 1) = 5\n(כתוב רק את המספר)',
        correct: '16',
        explanation: 'פותחים סוגריים:\n4x - 8 - 3x - 3 = 5\nכונסים:\nx - 11 = 5\nמעבירים אגפים:\nx = 16'
      },
      {
        type: 'multiple',
        q: 'מה התוצאה של פתיחת הסוגריים?\n4(x - 2)',
        options: ['4x - 8', '4x - 2', '4x + 8', 'x - 8'],
        correct: '4x - 8',
        explanation: 'מכפילים את 4 בכל מה שבסוגריים:\n4 × x = 4x\n4 × (-2) = -8'
      },
      {
        type: 'multiple',
        q: 'מה התוצאה של פתיחת הסוגריים?\n-3(x + 1)',
        options: ['-3x - 3', '-3x + 3', '3x - 3', '-3x + 1'],
        correct: '-3x - 3',
        explanation: 'המינוס משפיע על כל הסימנים!\n-3 × x = -3x\n-3 × (+1) = -3'
      },
      {
        type: 'input',
        q: 'פתור:\n2(x + 3) = 14',
        correct: '4',
        explanation: 'פותחים סוגריים:\n2x + 6 = 14\nמעבירים אגפים:\n2x = 8\nמחלקים:\nx = 4'
      },
      {
        type: 'multiple',
        q: 'פתור:\n3x - 5 = 2x + 7',
        options: ['12', '2', '-12', '5'],
        correct: '12',
        explanation: 'מעבירים את 2x אגף:\nx - 5 = 7\nמעבירים את 5- אגף:\nx = 12'
      },
      {
        type: 'input',
        q: 'פתור:\n5(x - 1) - 2(x + 3) = 4',
        correct: '5',
        explanation: 'פותחים:\n5x - 5 - 2x - 6 = 4\nכונסים:\n3x - 11 = 4\nמעבירים:\n3x = 15\nx = 5'
      },
      {
        type: 'multiple',
        q: 'מה השלב הראשון בפתרון?\n2(x - 5) + 3(x + 1) = 10',
        options: ['לפתוח סוגריים', 'להעביר את 10 אגף', 'לחלק ב-x', 'לכונס איברים'],
        correct: 'לפתוח סוגריים',
        explanation: 'תמיד מתחילים בפתיחת סוגריים לפני כל פעולה אחרת.'
      }
    ]
  },
  {
    id: 'geometry',
    title: 'גיאומטריה וחפיפה',
    icon: 'BookOpen',
    color: 'bg-purple-500',
    lightColor: 'bg-purple-50',
    borderColor: 'border-purple-200',
    textColor: 'text-purple-700',
    studyMaterial: {
      title: 'איך מוכיחים חפיפה?',
      points: [
        { title: 'משפט צ.ז.צ', text: 'שתי צלעות שוות והזווית *שביניהן* שווה.' },
        { title: 'משפט ז.צ.ז', text: 'שתי זוויות שוות והצלע *שביניהן* שווה.' },
        { title: 'משפט צ.צ.צ', text: 'כל שלוש הצלעות שוות בהתאמה.' },
        { title: 'נתונים מוחבאים', text: 'חפשו "שעון חול" (זוויות קודקודיות שוות) או צלע משותפת.' },
        { title: '💡 דוגמה: הוכחת חפיפה', text: 'נתון:\nAM = MB, ∠A = ∠B\nצריך להוכיח:\nΔAMC ≅ ΔBMD\nטענה 1: \n∠A = ∠B (נתון)\nטענה 2:\nAM = MB (נתון)\nטענה 3:\n∠AMC = ∠BMD (קודקודיות)\nמסקנה: לפי ז.צ.ז' }
      ]
    },
    questions: [
      {
        type: 'multiple',
        q: 'נתונים שני משולשים שבהם שתי צלעות שוות והזווית הכלואה ביניהן שווה. לפי איזה משפט הם חופפים?',
        options: ['צ.ז.צ', 'ז.צ.ז', 'צ.צ.צ', 'לא חופפים'],
        correct: 'צ.ז.צ',
        explanation: 'הנתון הוא: צלע, זווית ביניהן, וצלע נוספת. זהו בדיוק משפט צ.ז.צ.'
      },
      {
        type: 'multiple',
        q: 'נתון שכל שלוש הצלעות במשולש אחד שוות לצלעות במשולש השני. איזה משפט חפיפה זה?',
        options: ['צ.צ.צ', 'צ.ז.צ', 'ז.צ.ז', 'אף אחד'],
        correct: 'צ.צ.צ',
        explanation: 'כאשר רק הצלעות ידועות כשווה, זהו משפט צ.צ.צ.'
      },
      {
        type: 'multiple',
        q: 'בציור של שני קווים ישרים שנחתכים (יוצרים X), מה נכון לגבי הזוויות שנמצאות אחת מול השנייה?',
        options: ['הן שוות (קודקודיות)', 'סכומן 180', 'הן שונות', 'סכומן 90'],
        correct: 'הן שוות (קודקודיות)',
        explanation: 'זוויות קודקודיות תמיד שוות זו לזו.'
      },
      {
        type: 'multiple',
        q: 'אם נתון שמשולש ABC חופף למשולש DEF, איזו צלע שווה לצלע BC?',
        options: ['EF', 'DE', 'DF', 'AB'],
        correct: 'EF',
        explanation: 'לפי סדר האותיות: BC הן האותיות השנייה והשלישית, ולכן מתאימות ל-EF (השנייה והשלישית במשולש השני).'
      },
      {
        type: 'multiple',
        q: 'במשולש שווה שוקיים, אילו זוויות שוות זו לזו?',
        options: ['זוויות הבסיס', 'זווית הראש וזווית הבסיס', 'כל הזוויות שוות', 'אין זוויות שוות'],
        correct: 'זוויות הבסיס',
        explanation: 'במשולש שווה שוקיים, הזוויות שליד הבסיס (מול השוקיים השוות) תמיד שוות.'
      },
      {
        type: 'multiple',
        q: 'מהו סכום הזוויות בכל משולש?',
        options: ['180 מעלות', '90 מעלות', '360 מעלות', '100 מעלות'],
        correct: '180 מעלות',
        explanation: 'משפט יסודי: סכום הזוויות בכל משולש הוא תמיד 180 מעלות.'
      },
      {
        type: 'multiple',
        q: 'בציור "שעון חול", מה נכון לגבי הזוויות הקודקודיות?',
        options: ['הן שוות זו לזו', 'סכומן 180', 'סכומן 90', 'אין קשר ביניהן'],
        correct: 'הן שוות זו לזו',
        explanation: 'זוויות קודקודיות (שנוצרות כששני קווים נחתכים) תמיד שוות זו לזו. זה נתון מוחבא חשוב להוכחות!'
      },
      {
        type: 'multiple',
        q: 'נתון:\nAM = MB, ∠A = ∠B\nאיזה נתון נוסף צריך כדי להוכיח חפיפה לפי ז.צ.ז?',
        options: ['זווית נוספת שווה', 'צלע משותפת', 'זוויות קודקודיות שוות', 'כל התשובות נכונות'],
        correct: 'זוויות קודקודיות שוות',
        explanation: 'יש לנו זווית וצלע. כדי להשתמש בז.צ.ז, צריך זווית נוספת שביניהן. זוויות קודקודיות הן הפתרון!'
      },
      {
        type: 'multiple',
        q: 'אם שני משולשים חופפים, מה נכון?',
        options: ['כל הצלעות והזוויות שוות', 'רק הצלעות שוות', 'רק הזוויות שוות', 'רק חלק מהצלעות שוות'],
        correct: 'כל הצלעות והזוויות שוות',
        explanation: 'כשמשולשים חופפים, כל הצלעות והזוויות המתאימות שוות זו לזו.'
      },
      {
        type: 'multiple',
        q: 'במשולש שווה שוקיים, מה נכון לגבי השוקיים?',
        options: ['הן שוות זו לזו', 'הן שונות', 'אחת כפולה מהשנייה', 'לא ניתן לדעת'],
        correct: 'הן שוות זו לזו',
        explanation: 'במשולש שווה שוקיים, שתי השוקיים תמיד שוות זו לזו (וזו ההגדרה שלו).'
      },
      {
        type: 'multiple',
        q: 'מהו משפט החפיפה המתאים כאשר יש שתי זוויות שוות וצלע אחת שווה?',
        options: ['ז.צ.ז', 'צ.ז.צ', 'צ.צ.צ', 'לא ניתן להוכיח'],
        correct: 'ז.צ.ז',
        explanation: 'כשיש שתי זוויות שוות והצלע שביניהן שווה, משתמשים במשפט ז.צ.ז.'
      }
    ]
  },
  {
    id: 'ratio',
    title: 'יחס ופרופורציה',
    icon: 'Star',
    color: 'bg-orange-500',
    lightColor: 'bg-orange-50',
    borderColor: 'border-orange-200',
    textColor: 'text-orange-700',
    studyMaterial: {
      title: 'שיטת השלבים',
      points: [
        { title: '1. חיבור', text: 'מחברים את מספרי היחס (למשל 2:3 זה 5 יחידות סה"כ).' },
        { title: '2. חילוק', text: 'לוקחים את השלם ומחלקים בסכום שיצא. כך מוצאים כמה שווה "יחידה אחת".' },
        { title: '3. כפל', text: 'מכפילים את השווי של יחידה אחת בכל אחד מחלקי היחס המקוריים.' },
        { title: '💡 דוגמה', text: 'בכיתה 35 תלמידים, יחס 3:4\nשלב 1:\n3 + 4 = 7 (סה"כ יחידות)\nשלב 2:\n35 ÷ 7 = 5 (כל יחידה)\nשלב 3:\nבנים (3 יחידות) = 3 × 5 = 15\nבנות (4 יחידות) = 4 × 5 = 20\nבדיקה:\n15 + 20 = 35' }
      ]
    },
    questions: [
      {
        type: 'input',
        q: 'היחס בין בנים לבנות הוא 2:3. כמה יחידות יחס יש סה"כ?',
        correct: '5',
        explanation: 'מחברים את המספרים:\n2 + 3 = 5'
      },
      {
        type: 'input',
        q: 'מחלקים 20 סוכריות ביחס של 1:4. כמה סוכריות יקבל הילד עם החלק הקטן?',
        correct: '4',
        explanation: 'סה"כ 5 יחידות יחס. כל יחידה שווה 4 (20 לחלק ל-5). החלק הקטן הוא 1 (יחידה אחת) כפול 4.'
      },
      {
        type: 'multiple',
        q: 'אם היחס בין קמח לסוכר הוא 2:1, ויש 300 גרם תערובת. כמה גרם סוכר יש?',
        options: ['100', '200', '150', '50'],
        correct: '100',
        explanation: 'סה"כ 3 יחידות (2+1). כל יחידה שווה 100 (300/3). הסוכר הוא יחידה אחת, ולכן 100 גרם.'
      },
      {
        type: 'multiple',
        q: 'איזה יחס שווה ליחס 10:20?',
        options: ['1:2', '1:3', '2:1', '1:5'],
        correct: '1:2',
        explanation: 'אם נצמצם את שני המספרים ב-10 (נחלק ב-10), נקבל 1 ו-2.'
      },
      {
        type: 'input',
        q: 'בכיתה יש 35 תלמידים. היחס בין בנים לבנות הוא 3:4. כמה בנים יש?\n(כתוב רק את המספר)',
        correct: '15',
        explanation: 'סה"כ 7 יחידות (3+4). כל יחידה שווה 5 (35÷7).\nבנים = 3×5 = 15'
      },
      {
        type: 'input',
        q: 'בכיתה יש 35 תלמידים. היחס בין בנים לבנות הוא 3:4. כמה בנות יש?\n(כתוב רק את המספר)',
        correct: '20',
        explanation: 'סה"כ 7 יחידות (3+4). כל יחידה שווה 5 (35÷7).\nבנות = 4×5 = 20'
      },
      {
        type: 'multiple',
        q: 'מחלקים 60 שוקולדים ביחס של 2:3. כמה שוקולדים יקבל החלק הגדול?',
        options: ['36', '24', '30', '40'],
        correct: '36',
        explanation: 'סה"כ 5 יחידות (2+3). כל יחידה שווה 12 (60÷5).\nהחלק הגדול (3 יחידות) = 3×12 = 36'
      },
      {
        type: 'input',
        q: 'היחס בין קמח לסוכר הוא 5:1. אם יש 120 גרם תערובת, כמה גרם קמח יש?\n(כתוב רק את המספר)',
        correct: '100',
        explanation: 'סה"כ 6 יחידות (5+1). כל יחידה שווה 20 (120÷6).\nקמח (5 יחידות) = 5×20 = 100'
      },
      {
        type: 'multiple',
        q: 'מחלקים כסף ביחס של 1:2:3. אם הסך הכל הוא 60 שקל, כמה יקבל החלק הקטן ביותר?',
        options: ['10', '20', '30', '15'],
        correct: '10',
        explanation: 'סה"כ 6 יחידות (1+2+3). כל יחידה שווה 10 (60÷6).\nהחלק הקטן (1 יחידה) = 10'
      },
      {
        type: 'input',
        q: 'היחס בין אורך לרוחב הוא 4:3. אם האורך הוא 20 ס"מ, מה הרוחב?\n(כתוב רק את המספר)',
        correct: '15',
        explanation: 'אם האורך (4 יחידות) הוא 20, אז כל יחידה שווה 5 (20÷4).\nהרוחב (3 יחידות) = 3×5 = 15'
      },
      {
        type: 'multiple',
        q: 'מחלקים 48 תפוחים ביחס של 1:3. כמה תפוחים יקבל החלק הקטן?',
        options: ['12', '16', '24', '36'],
        correct: '12',
        explanation: 'סה"כ 4 יחידות (1+3). כל יחידה שווה 12 (48÷4).\nהחלק הקטן (1 יחידה) = 12'
      }
    ]
  }
];
